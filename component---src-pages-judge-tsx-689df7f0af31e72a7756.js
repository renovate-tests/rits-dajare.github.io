(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{ZiRl:function(e,t,n){var r=n("P8UN");r(r.P,"String",{repeat:n("gd4K")})},gd4K:function(e,t,n){"use strict";var r=n("1Llc"),c=n("ap2Z");e.exports=function(e){var t=String(c(this)),n="",u=r(e);if(u<0||u==1/0)throw RangeError("Count can't be negative");for(;u>0;(u>>>=1)&&(t+=t))1&u&&(n+=t);return n}},n9eF:function(e,t,n){"use strict";n.r(t);n("ZiRl");var r=n("wTIg"),c=n("q1tI"),u=n("Mrqj"),i=n("ZdEh"),a=n("qqPP"),o=(n("xtjI"),n("4DPX"),n("Ggvi"),n("6kNP"),n("rzGZ"),n("Dq+y"),n("8npG"),n("YbXK"),n("sC2a"),n("o0o1")),s=n.n(o);n("ls82");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,r,c,u,i){try{var a=e[u](i),o=a.value}catch(s){return void n(s)}a.done?t(o):Promise.resolve(o).then(r,c)}var d=function(){var e,t=(e=s.a.mark((function e(t,n){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://script.google.com/macros/s/AKfycbz6gJafNJO-Q8R5fqOP5XiklkVqeJAaePpDTcHIowR4JSxkRqr_/exec?url=http://abelab.dev:8080/joke/"+t+"?joke="+encodeURIComponent(n),e.next=3,fetch(r);case 3:return c=e.sent,e.abrupt("return",c.json());case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,c){var u=e.apply(t,n);function i(e){p(u,r,c,i,a,"next",e)}function a(e){p(u,r,c,i,a,"throw",e)}i(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),j=function(e){return 0!==e.replace(/\s/g,"").length},m=function(){var e=Object(c.useState)(!1),t=e[0],n=e[1],r=Object(c.useState)(null),u=r[0],i=r[1],a=Object(c.useState)(null),o=a[0],s=a[1],l=Object(c.useState)(null),f=l[0],p=l[1];return Object(c.useEffect)((function(){return null===o||""===o?(n(!1),function(){}):(n(!0),i(null),Promise.all([d("judge",o),d("evaluate",o),d("reading",o)]).then((function(e){var t=e.reduce((function(e,t){return b(b({},e),t)}),{});n(!1),i(t)})).catch((function(e){p(e)})),function(){n(!1)})}),[o]),{isSubmitting:t,judge:s,result:u,error:f}},g=n("7cJT"),O=n("qKvR"),h=function(e){var t,n=e.onSubmit,r=e.text,c=e.onInput,i=e.result,o=e.error,s=e.isSubmitting,l=e.className,b=e.inputTextRef,f=e.showScore,p=e.forceShowScore,d=Math.ceil(null!==(t=null==i?void 0:i.score)&&void 0!==t?t:0),j=i&&""+"★".repeat(d)+"☆".repeat(5-d),m=f?j&&"ダジャレ："+r+"\nスコア："+j+"\n\n#ダジャレ判定 by @rits_dajare\n\nhttps://rits-dajare.github.io/judge":"ダジャレ："+r+"\nダジャレと判定できませんでした。\n\n#ダジャレ判定 by @rits_dajare\n\nhttps://rits-dajare.github.io/judge";return Object(O.c)(u.a,{as:"main",id:"main",className:l},Object(O.c)(g.a,{title:"ダジャレ判定",description:"あなたのダジャレを判定します！",pathname:"/judge"}),Object(O.c)(u.d,{as:"h1"},"立命館ダジャレサークル ダジャレ判定"),Object(O.c)(a.a,null,"あなたのダジャレを判定します！"),Object(O.c)(a.a,null,"ダジャレを入力し、「判定！」ボタンを押してください"),Object(O.c)("form",{onSubmit:n},Object(O.c)(u.f,{htmlFor:"dajare"}),Object(O.c)("div",{className:"input-group"},Object(O.c)(u.e,{type:"text",name:"dajare",value:r,onChange:c,placeholder:"布団がふっとんだ",disabled:s,required:!0,className:"input-text",minLength:4,ref:b,autoFocus:!0}),Object(O.c)(u.b,{type:"submit",className:"submit",disabled:s},"判定！"))),(null!==i||s)&&Object(O.c)(u.a,{className:"result"},s&&Object(O.c)(u.h,{className:"loading"}),null!==i&&!f&&Object(O.c)(a.a,null,"ダジャレではありません"),f&&Object(O.c)(a.a,null,"あなたのダジャレのスコアは",j,"です！")),Object(O.c)("div",{className:"buttons"},i&&m&&Object(O.c)(g.b,{sns:"twitter",text:m}),null!==i&&!f&&Object(O.c)(u.b,{type:"button",onClick:p},"ダジャレとして判定する")),o&&Object(O.c)(u.g,null,"string"==typeof o?o:"string"==typeof o.message?o.message:"エラーが発生しました"))},v=Object(r.a)(h,{target:"erus1ca0"})(".input-group{display:flex;}.input-text{flex:1 1;}.input-text,.submit{",Object(i.a)({margin:3}),"}.result{display:flex;flex-direction:column;align-items:center;justify-content:center;max-width:30em;height:15em;margin:1em auto;border-radius:1em;border:solid 1px;",Object(i.a)({borderColor:"muted"}),"}.loading{width:4em;height:4em;margin:0 auto;}.buttons{display:flex;flex-direction:column;align-items:center;button{margin:1em;}}");t.default=function(){var e=Object(c.useState)(""),t=e[0],n=e[1],r=m(),u=r.result,i=r.isSubmitting,a=r.judge,o=r.error,s=Object(c.useRef)(null),l=Object(c.useState)(!1),b=l[0],f=l[1];return Object(O.c)(v,{text:t,result:u,error:o,isSubmitting:i,onInput:function(e){var t,r,c=e.currentTarget.value;(n(c),j(c))?null===(t=s.current)||void 0===t||t.setCustomValidity(""):null===(r=s.current)||void 0===r||r.setCustomValidity("空白以外の文字を入力してください")},onSubmit:function(e){e.preventDefault(),f(!1),j(t)&&a(t)},inputTextRef:s,showScore:(null==u?void 0:u.is_joke)||b,forceShowScore:function(){return f(!0)}})}}}]);
//# sourceMappingURL=component---src-pages-judge-tsx-689df7f0af31e72a7756.js.map